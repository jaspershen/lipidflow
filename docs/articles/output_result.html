<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Step 4: output and organize results • lipidflow</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><!-- docsearch --><script src="../docsearch.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous">
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script><meta property="og:title" content="Step 4: output and organize results">
<meta property="og:description" content="lipidflow">
<meta property="og:image" content="https://jaspershen.github.io/lipidflow/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-000000-01"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-000000-01');
</script>
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">lipidflow</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="Under development">0.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Help documents
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li class="dropdown-header">Brief introduction</li>
    <li>
      <a href="../articles/lipidflow.html">Brief introduction of lipidflow</a>
    </li>
    <li>
      <a href="../articles/overview_of_lipidflow.html">Overview of workflow of lipidflow</a>
    </li>
    <li class="divider">
    <li class="dropdown-header">Absolute quantification of lipids</li>
    <li>
      <a href="../articles/get_is_retention_time.html">Step 1: get internal standard retention time</a>
    </li>
    <li>
      <a href="../articles/is_relative_quantification.html">Step 2: get relative quantification data</a>
    </li>
    <li>
      <a href="../articles/absolute_quantification.html">Step 3: get absolute quantification data</a>
    </li>
    <li>
      <a href="../articles/output_result.html">Step 4: output and organize results</a>
    </li>
    <li class="divider">
    <li>
      <a href="../articles/one_step_of_lipidflow.html">One function to all steps</a>
    </li>
    <li class="dropdown-header">Other tools in lipidflow</li>
    <li>
      <a href="../articles/lipidflow.html">Other tools in lipidflow</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    News
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../news/index.html">Change log</a>
    </li>
  </ul>
</li>
<li>
  <a href="../articles/contact_us.html">Contact us</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/lipidflow.html">Get started</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/jaspershen/lipidflow/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://twitter.com/JasperShen1990">
    <span class="fab fa-twitter fa-lg"></span>
     
  </a>
</li>
      </ul>
<form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
</div>
      </form>
      
    </div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="output_result_files/header-attrs-2.6/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Step 4: output and organize results</h1>
                        <h4 class="author">Xiaotao Shen PhD (<a href="https://www.shenxt.info/" class="uri">https://www.shenxt.info/</a>)</h4>
                                    <h4 class="author">Chuchu wang PhD</h4>
            <address class="author_afil">
      School of Medicine, Stanford University<br><h4 class="date">Created on 2021-02-09 and updated on 2021-03-03</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/jaspershen/lipidflow/blob/master/vignettes/output_result.Rmd"><code>vignettes/output_result.Rmd</code></a></small>
      <div class="hidden name"><code>output_result.Rmd</code></div>

    </address>
</div>

    
    
<hr>
<p>Then we need to output and organize some results. If you have not finished the previous step, please click here:</p>
<p><a href="https://jaspershen.github.io/lipidflow/articles/absolute_quantification.html">Step 3: get absolute quantification data</a>.</p>
<hr>
<div id="organize-results" class="section level1">
<h1 class="hasAnchor">
<a href="#organize-results" class="anchor"></a><strong>Organize results</strong>
</h1>
<p>Here we first organize the plots of lipids to different groups according to lipid class.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/jaspershen/lipidflow">lipidflow</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://ycphs.github.io/openxlsx/index.html">openxlsx</a></span><span class="op">)</span></code></pre></div>
<hr>
<div id="positive-mode" class="section level2">
<h2 class="hasAnchor">
<a href="#positive-mode" class="anchor"></a><strong>Positive mode</strong>
</h2>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">match_item_pos</span> <span class="op">=</span>
  <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>
    <span class="st">"Cer"</span> <span class="op">=</span> <span class="st">"d18:1 (d7)-15:0 Cer"</span>,
    <span class="st">"ChE"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"18:1(d7) Chol Ester"</span>, <span class="st">"Cholesterol (d7)"</span><span class="op">)</span>,
    <span class="st">"Chol"</span> <span class="op">=</span> <span class="st">"Cholesterol (d7)"</span>,
    <span class="st">"DG"</span> <span class="op">=</span> <span class="st">"15:0-18:1(d7) DAG"</span>,
    <span class="st">"LPC"</span> <span class="op">=</span> <span class="st">"18:1(d7) Lyso PC"</span>,
    <span class="st">"LPE"</span> <span class="op">=</span> <span class="st">"18:1(d7) Lyso PE"</span>,
    <span class="st">"MG"</span> <span class="op">=</span> <span class="st">"18:1 (d7) MG"</span>,
    <span class="st">"PA"</span> <span class="op">=</span> <span class="st">"15:0-18:1(d7) PA (Na Salt)"</span>,
    <span class="st">"PC"</span> <span class="op">=</span> <span class="st">"15:0-18:1(d7) PC"</span>,
    <span class="st">"PE"</span> <span class="op">=</span> <span class="st">"15:0-18:1(d7) PE"</span>,
    <span class="st">"PG"</span> <span class="op">=</span> <span class="st">"15:0-18:1(d7) PG (Na Salt)"</span>,
    <span class="st">"PI"</span> <span class="op">=</span> <span class="st">"15:0-18:1(d7) PI (NH4 Salt)"</span>,
    <span class="st">"PPE"</span> <span class="op">=</span> <span class="st">"C18(Plasm)-18:1(d9) PE"</span>,
    <span class="st">"PS"</span> <span class="op">=</span> <span class="st">"15:0-18:1(d7) PS (Na Salt)"</span>,
    <span class="st">"SM"</span> <span class="op">=</span> <span class="st">"d18:1-18:1(d9) SM"</span>,
    <span class="st">"TG"</span> <span class="op">=</span> <span class="st">"15:0-18:1(d7)-15:0 TAG"</span>
  <span class="op">)</span></code></pre></div>
<p>We want to organize the peak shape of lipids in <code>example/POS/lipid_relative_quantification/peak_shape</code> to different folders according to lipid class.</p>
<div class="figure">
<img src="../man/figures/figure25.png" alt=""><p class="caption">Before organization</p>
</div>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">absolute_table</span> <span class="op">&lt;-</span>
  <span class="fu">readxl</span><span class="fu">::</span><span class="fu"><a href="https://readxl.tidyverse.org/reference/read_excel.html">read_xlsx</a></span><span class="op">(</span><span class="st">"example/Result/lipid_data_um.xlsx"</span><span class="op">)</span>

<span class="fu"><a href="../reference/reorganize_peak_plot.html">reorganize_peak_plot</a></span><span class="op">(</span>
  path <span class="op">=</span> <span class="st">"example/POS/lipid_relative_quantification/"</span>,
  plot_dir <span class="op">=</span> <span class="st">"peak_shape"</span>,
  absolute_table <span class="op">=</span> <span class="va">absolute_table</span>,
  match_item <span class="op">=</span> <span class="va">match_item_pos</span>
<span class="op">)</span>
<span class="co">#&gt; 1  2  3  4  5  6  7  8  9  10  11  12  13  14  15  16</span></code></pre></div>
<p>After the organization, the folder is like this, all the lipids are placed into different folders according to their class.</p>
<div class="figure">
<img src="../man/figures/figure26.png" alt=""><p class="caption">After organization</p>
</div>
<hr>
</div>
<div id="negative-mode" class="section level2">
<h2 class="hasAnchor">
<a href="#negative-mode" class="anchor"></a><strong>Negative mode</strong>
</h2>
<p>Negative mode is same with positive mode:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">match_item_neg</span> <span class="op">=</span>
  <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>
    <span class="st">"Cer"</span> <span class="op">=</span> <span class="st">"d18:1 (d7)-15:0 Cer"</span>,
    <span class="st">"Chol"</span> <span class="op">=</span> <span class="st">"Cholesterol (d7)"</span>,
    <span class="st">"ChE"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"18:1(d7) Chol Ester"</span>, <span class="st">"Cholesterol (d7)"</span><span class="op">)</span>,
    <span class="st">"LPC"</span> <span class="op">=</span> <span class="st">"18:1(d7) Lyso PC"</span>,
    <span class="st">"LPE"</span> <span class="op">=</span> <span class="st">"18:1(d7) Lyso PE"</span>,
    <span class="st">"PC"</span> <span class="op">=</span> <span class="st">"15:0-18:1(d7) PC"</span>,
    <span class="st">"PE"</span> <span class="op">=</span> <span class="st">"15:0-18:1(d7) PE"</span>,
    <span class="st">"PG"</span> <span class="op">=</span> <span class="st">"15:0-18:1(d7) PG (Na Salt)"</span>,
    <span class="st">"PI"</span> <span class="op">=</span> <span class="st">"15:0-18:1(d7) PI (NH4 Salt)"</span>,
    <span class="st">"PPE"</span> <span class="op">=</span> <span class="st">"C18(Plasm)-18:1(d9) PE"</span>,
    <span class="st">"PS"</span> <span class="op">=</span> <span class="st">"15:0-18:1(d7) PS (Na Salt)"</span>,
    <span class="st">"SM"</span> <span class="op">=</span> <span class="st">"d18:1-18:1(d9) SM"</span>
  <span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/reorganize_peak_plot.html">reorganize_peak_plot</a></span><span class="op">(</span>
  path <span class="op">=</span> <span class="st">"example/NEG/lipid_relative_quantification/"</span>,
  plot_dir <span class="op">=</span> <span class="st">"peak_shape"</span>,
  absolute_table <span class="op">=</span> <span class="va">absolute_table</span>,
  match_item <span class="op">=</span> <span class="va">match_item_neg</span>
<span class="op">)</span>
<span class="co">#&gt; 1  2  3  4  5  6  7  8  9  10  11  12</span></code></pre></div>
<hr>
</div>
</div>
<div id="output-some-results" class="section level1">
<h1 class="hasAnchor">
<a href="#output-some-results" class="anchor"></a><strong>Output some results</strong>
</h1>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/output_result.html">output_result</a></span><span class="op">(</span>path <span class="op">=</span> <span class="st">"example"</span>,
              match_item_pos <span class="op">=</span> <span class="va">match_item_pos</span>,
              match_item_neg <span class="op">=</span> <span class="va">match_item_neg</span><span class="op">)</span>
<span class="co">#&gt; Positive mode...</span>
<span class="co">#&gt; Cer</span>
<span class="co">#&gt; ChE</span>
<span class="co">#&gt; Chol</span>
<span class="co">#&gt; DG</span>
<span class="co">#&gt; LPC</span>
<span class="co">#&gt; LPE  MG</span>
<span class="co">#&gt; PA  PC</span>
<span class="co">#&gt; PE</span>
<span class="co">#&gt; PG  PI</span>
<span class="co">#&gt; PPE</span>
<span class="co">#&gt; PS</span>
<span class="co">#&gt; SM</span>
<span class="co">#&gt; TG</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Negative mode...</span>
<span class="co">#&gt; Cer  Chol  ChE  LPC  LPE</span>
<span class="co">#&gt; PC</span>
<span class="co">#&gt; PE</span>
<span class="co">#&gt; PG</span>
<span class="co">#&gt; PI</span>
<span class="co">#&gt; PPE  PS</span>
<span class="co">#&gt; SM  </span>
<span class="co">#&gt; 1</span>
<span class="co">#&gt; 2</span>
<span class="co">#&gt; 3</span>
<span class="co">#&gt; 4</span>
<span class="co">#&gt; 5</span>
<span class="co">#&gt; 6</span>
<span class="co">#&gt; 7</span>
<span class="co">#&gt; 8</span>
<span class="co">#&gt; 9</span>
<span class="co">#&gt; 10</span>
<span class="co">#&gt; 11</span>
<span class="co">#&gt; 12</span>
<span class="co">#&gt; 13</span>
<span class="co">#&gt; 14</span>
<span class="co">#&gt; 15</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Done.</span></code></pre></div>
<hr>
</div>
<div id="the-final-results" class="section level1">
<h1 class="hasAnchor">
<a href="#the-final-results" class="anchor"></a><strong>The final results</strong>
</h1>
<p>Finally, all the results are in <code>example/Result</code>.</p>
<div class="figure">
<img src="../man/figures/figure27.png" alt=""><p class="caption">Final results</p>
</div>
<hr>
<div id="is_info_table-xlsx" class="section level2">
<h2 class="hasAnchor">
<a href="#is_info_table-xlsx" class="anchor"></a><strong>1. <code>IS_info_table.xlsx</code></strong>
</h2>
<p>This table is the information of internal standards in positive and negative mode, respectively.</p>
<p><img src="../man/figures/figure7.png"></p>
<hr>
</div>
<div id="lipid_data_class_ug_ml-xlsx" class="section level2">
<h2 class="hasAnchor">
<a href="#lipid_data_class_ug_ml-xlsx" class="anchor"></a><strong>2. <code>lipid_data_class_ug_ml.xlsx</code></strong>
</h2>
<p>This table is the absolute quantification table for each sample in lipid class level (ug/ml).</p>
<p><img src="../man/figures/figure9.png"></p>
<hr>
</div>
<div id="lipid_data_class_um_per-xlsx" class="section level2">
<h2 class="hasAnchor">
<a href="#lipid_data_class_um_per-xlsx" class="anchor"></a><strong>3. <code>lipid_data_class_um_per.xlsx</code></strong>
</h2>
<p>This table is the absolute quantification table for each sample in lipid class level (um), and the values were calculated as value/sum(values).</p>
<p><img src="../man/figures/figure10.png"></p>
<hr>
</div>
<div id="lipid_data_class_um-xlsx" class="section level2">
<h2 class="hasAnchor">
<a href="#lipid_data_class_um-xlsx" class="anchor"></a><strong>4. <code>lipid_data_class_um.xlsx</code></strong>
</h2>
<p>This table is the absolute quantification table for each sample in lipid class level (um).</p>
<p><img src="../man/figures/figure11.png"></p>
<hr>
</div>
<div id="lipid_data_ug_ml-xlsx" class="section level2">
<h2 class="hasAnchor">
<a href="#lipid_data_ug_ml-xlsx" class="anchor"></a><strong>5. <code>lipid_data_ug_ml.xlsx</code></strong>
</h2>
<p>This is the absolute quantification for each lipid in each sample. The unit is ug/ml.</p>
<p><img src="../man/figures/figure12.png"></p>
<hr>
</div>
<div id="lipid_data_um_per-xlsx" class="section level2">
<h2 class="hasAnchor">
<a href="#lipid_data_um_per-xlsx" class="anchor"></a><strong>6. <code>lipid_data_um_per.xlsx</code></strong>
</h2>
<p>This is the absolute quantification for each lipid in each sample. The unit is ug/ml. And the values were calculated as value/sum(values).</p>
<p><img src="../man/figures/figure13.png"></p>
<hr>
</div>
<div id="lipid_data_um-xlsx" class="section level2">
<h2 class="hasAnchor">
<a href="#lipid_data_um-xlsx" class="anchor"></a><strong>7. <code>lipid_data_um.xlsx</code></strong>
</h2>
<p>This is the absolute quantification for each lipid in each sample. The unit is um.</p>
<p><img src="../man/figures/figure14.png"></p>
<hr>
</div>
<div id="plot_ug-pdf-and-plot_um-pdf" class="section level2">
<h2 class="hasAnchor">
<a href="#plot_ug-pdf-and-plot_um-pdf" class="anchor"></a><strong>8. <code>plot_ug.pdf</code> and <code>plot_um.pdf</code></strong>
</h2>
<p>These two figures are percentage for each lipid class in each sample in ug/ml and um level.</p>
<div class="figure">
<img src="../man/figures/figure15.png" alt=""><p class="caption">plot_ug.pdf</p>
</div>
<div class="figure">
<img src="../man/figures/figure16.png" alt=""><p class="caption">plot_um.pdf</p>
</div>
<hr>
</div>
<div id="class_plot" class="section level2">
<h2 class="hasAnchor">
<a href="#class_plot" class="anchor"></a><strong>9. <code>class_plot</code></strong>
</h2>
<p>This folder contains the intensity plot in class level fro each lipid class.</p>
<p>One example is like below figure shows:</p>
<p><img src="../man/figures/figure19.png"></p>
<hr>
</div>
<div id="intensity_plot" class="section level2">
<h2 class="hasAnchor">
<a href="#intensity_plot" class="anchor"></a><strong>10. <code>intensity_plot</code></strong>
</h2>
<p>This folder contains the intensity plot for each lipid.</p>
<p><img src="../man/figures/figure20.png"></p>
<p>This is an example: the top panel is the relative intensity plot for the internal standard. The middle panel is the relative intensity plot for this lipid, and the bottom panel is the absolute intensity plot for this lipid.</p>
<p><img src="../man/figures/figure21.png"></p>
<hr>
</div>
</div>
<div id="manually-check" class="section level1">
<h1 class="hasAnchor">
<a href="#manually-check" class="anchor"></a><strong>Manually check</strong>
</h1>
<p>Next we need to check if the absolute quantification of lipids are accurate.</p>
<div id="absolute-quantification-in-class-level" class="section level2">
<h2 class="hasAnchor">
<a href="#absolute-quantification-in-class-level" class="anchor"></a><strong>Absolute quantification in class level</strong>
</h2>
<p>First, please open the <code>example/Result/class_plot</code>, and check each plot. For example, for the lipid class <code>ChE</code>, we can see that <code>D25_1</code> and <code>D25_2</code> are in the sample groups, but their <code>ChE</code> are very different, so it indicates that the absolute quantification for <code>ChE</code> class may be wrong. So next we should check each lipid in <code>ChE</code>.</p>
<p><img src="../man/figures/figure34.png"></p>
</div>
<div id="absolute-quantification-in-lipid-level" class="section level2">
<h2 class="hasAnchor">
<a href="#absolute-quantification-in-lipid-level" class="anchor"></a><strong>Absolute quantification in lipid level</strong>
</h2>
<p>Then open the <code>example/Result/intensity_plot/ChE</code> folder, and there is only one <code>ChE</code> lipid <code>ChE(0_0)</code>:</p>
<p><img src="../man/figures/figure36.png"></p>
<p>From the <code>lipid_data_um.xlsx</code>, we know that <code>ChE(0_0)</code> is from positive mode, so we then open the <code>html</code> plot for <code>ChE(0_0)</code>, and we can clearly see that the peak integration for <code>D25_1</code> is wrong.</p>
<iframe title="Internal standard" src="../man/figures/figure35.html" width="100%" height="600" scrolling="no" seamless="seamless" frameborder="0"></iframe>
</div>
<div id="rerun-relative-and-absolute-quantification-data" class="section level2">
<h2 class="hasAnchor">
<a href="#rerun-relative-and-absolute-quantification-data" class="anchor"></a><strong>Rerun relative and absolute quantification data</strong>
</h2>
<p>Then we need to get the relative and absolute quantification data again.</p>
<p>First, open the <code>forced_targeted_peak_table_temple.xlsx</code> in <code>example/POS/lipid_relative_quantification</code> folder. And add the correct peak integration begin and end time into <code>forced_targeted_peak_table_temple.xlsx</code>, and rename it as <code>forced_targeted_peak_table_temple_manual.xlsx</code>. This step is same with <a href="file:///Users/shenxt/github/lipidflow/docs/articles/is_relative_quantification.html">Manually check for relative quantification data of internal standards in step 2</a>. Please check the video there.</p>
<p>Then run the <code><a href="../reference/get_relative_quantification.html">get_relative_quantification()</a></code> function for lipids.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">sample_info_pos</span> <span class="op">=</span> <span class="fu"><a href="../reference/generate_sample_info.html">generate_sample_info</a></span><span class="op">(</span>path <span class="op">=</span> <span class="st">"example/POS"</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/get_relative_quantification.html">get_relative_quantification</a></span><span class="op">(</span>
  path <span class="op">=</span> <span class="st">"example/POS"</span>,
  forced_targeted_peak_table_name <span class="op">=</span> <span class="st">"forced_targeted_peak_table_temple_manual.xlsx"</span>,
  output_path_name <span class="op">=</span> <span class="st">"lipid_relative_quantification"</span>,
  targeted_table_name <span class="op">=</span> <span class="st">"lipid_annotation_table_pos.xlsx"</span>,
  sample_info <span class="op">=</span> <span class="va">sample_info_pos</span>,
  targeted_table_type <span class="op">=</span> <span class="st">"lipid"</span>,
  polarity <span class="op">=</span> <span class="st">"positive"</span>,
  output_eic <span class="op">=</span> <span class="cn">TRUE</span>,
  ppm <span class="op">=</span> <span class="fl">40</span>,
  rt.tolerance <span class="op">=</span> <span class="fl">180</span>,
  threads <span class="op">=</span> <span class="fl">5</span>,
  rerun <span class="op">=</span> <span class="cn">FALSE</span>
<span class="op">)</span>
<span class="co">#&gt; Manually check..</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Output peak shapes...</span>
<span class="co">#&gt; 12  </span>
<span class="co">#&gt; Done</span></code></pre></div>
<p>And finally we need to recalculate absolute quantification data and output and organize result. Here we can use one function <code><a href="../reference/organize_result.html">organize_result()</a></code> to finish all steps.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/organize_result.html">organize_result</a></span><span class="op">(</span>path <span class="op">=</span> <span class="st">"example"</span>, 
                match_item_pos <span class="op">=</span> <span class="va">match_item_pos</span>, 
                <span class="va">match_item_neg</span><span class="op">)</span>
<span class="co">#&gt; -------------------------------------------------------------------</span>
<span class="co">#&gt; Get absolute quantification tables...</span>
<span class="co">#&gt; -------------------------------------------------------------------</span>
<span class="co">#&gt; Positive mode.</span>
<span class="co">#&gt; 1  10  20  30  40  50  60  70  80  90  100  110  120  130  140  150  151  </span>
<span class="co">#&gt; ✓ OK</span>
<span class="co">#&gt; negative mode.</span>
<span class="co">#&gt; 1  10  20  30  40  50  60  </span>
<span class="co">#&gt; ✓ OK</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; -------------------------------------------------------------------</span>
<span class="co">#&gt; Generate the peak plots for lipids...</span>
<span class="co">#&gt; -------------------------------------------------------------------</span>
<span class="co">#&gt; positive mode...</span>
<span class="co">#&gt; 1  2  3  4  5  6  7  8  9  10  11  12  13  14  15  16  negative mode...</span>
<span class="co">#&gt; 1  2  3  4  5  6  7  8  9  10  11  12  13  14  15  16  </span>
<span class="co">#&gt; -------------------------------------------------------------------</span>
<span class="co">#&gt; Output results...</span>
<span class="co">#&gt; -------------------------------------------------------------------</span>
<span class="co">#&gt; Positive mode...</span>
<span class="co">#&gt; Cer</span>
<span class="co">#&gt; ChE</span>
<span class="co">#&gt; Chol  DG</span>
<span class="co">#&gt; LPC</span>
<span class="co">#&gt; LPE  MG</span>
<span class="co">#&gt; PA  PC</span>
<span class="co">#&gt; PE</span>
<span class="co">#&gt; PG  PI</span>
<span class="co">#&gt; PPE</span>
<span class="co">#&gt; PS</span>
<span class="co">#&gt; SM</span>
<span class="co">#&gt; TG</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Negative mode...</span>
<span class="co">#&gt; Cer  Chol  ChE  LPC  LPE</span>
<span class="co">#&gt; PC</span>
<span class="co">#&gt; PE</span>
<span class="co">#&gt; PG</span>
<span class="co">#&gt; PI</span>
<span class="co">#&gt; PPE  PS</span>
<span class="co">#&gt; SM  </span>
<span class="co">#&gt; 1</span>
<span class="co">#&gt; 2</span>
<span class="co">#&gt; 3</span>
<span class="co">#&gt; 4</span>
<span class="co">#&gt; 5</span>
<span class="co">#&gt; 6</span>
<span class="co">#&gt; 7</span>
<span class="co">#&gt; 8</span>
<span class="co">#&gt; 9</span>
<span class="co">#&gt; 10</span>
<span class="co">#&gt; 11</span>
<span class="co">#&gt; 12</span>
<span class="co">#&gt; 13</span>
<span class="co">#&gt; 14</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Done.</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; All done.</span></code></pre></div>
<p>Then open the peak shape for <code>ChE(0_0)</code>:</p>
<iframe title="Internal standard" src="../man/figures/figure37.html" width="100%" height="600" scrolling="no" seamless="seamless" frameborder="0"></iframe>
<p>Now it is correct.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Xiaotao Shen, Chuchu Wang.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script><script>
  docsearch({
    
    
    apiKey: '21ff2860978c5d2ceb7d4150364070ff',
    indexName: 'lipidflow',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>
</body>
</html>
